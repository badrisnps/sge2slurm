#
# Example slurm.conf file. Please run configurator.html
# (in doc/html) to build a configuration file customized
# for your environment.
#
#
# slurm.conf file generated by configurator.html.
#
# See the slurm.conf man page for more information.
#
ClusterName=SLURM_CLUSTER
#SlurmdUser=slurm
SlurmctldPort=6817
SlurmdPort=6818
AuthType=auth/munge
StateSaveLocation=/cm/shared/apps/slurm/var/cm/statesave
SlurmdSpoolDir=/cm/local/apps/slurm/var/spool
SwitchType=switch/none
MpiDefault=none
SlurmctldPidFile=/var/run/slurm/slurmctld.pid
SlurmdPidFile=/var/run/slurm/slurmd.pid
ProctrackType=proctrack/cgroup
CacheGroups=0
ReturnToService=2
#PrologSlurmctld=/cm/local/apps/cmd/scripts/prolog-prejob
#Prolog=/cm/shared/apps/slurm/var/etc/slurm_prolog
#Epilog=/cm/shared/apps/slurm/var/etc/slurm_epilog_clean

#TaskProlog=/cm/shared/apps/slurm/var/etc/slurm_task_prolog
TaskPlugin=task/cgroup
SlurmctldTimeout=300
SlurmdTimeout=200
InactiveLimit=0
MinJobAge=300
KillWait=30
MessageTimeout=20
HealthCheckInterval=60
CompleteWait=600
AcctGatherNodeFreq=30
GetEnvTimeout=10
ExtSensorsFreq=30
UnkillableStepTimeout=300
MaxTasksPerNode=2048
BatchStartTimeout=30

OverTimeLimit=15
ResvOverRun=15
#FastSchedule=1
SelectType=select/cons_res
SelectTypeParameters=CR_CPU

SallocDefaultCommand = "$SHELL"


PriorityType=priority/multifactor
PriorityDecayHalfLife=7-0
PriorityFavorSmall=NO
PriorityMaxAge=14-0
#PriorityWeightAge=1000
PriorityWeightAge=100
PriorityWeightFairshare=1000000
PriorityWeightJobSize=0
PriorityWeightPartition=2000
PriorityCalcPeriod=1
PriorityWeightQOS=5000
SlurmctldLogFile=/var/tmp/slurmctld
SlurmdLogFile=/var/log/slurmd
JobCompType=jobcomp/none
AccountingStorageEnforce=associations,limits,qos
AccountingStorageType=accounting_storage/slurmdbd
AccountingStorageUser=slurm
EnforcePartLimits=YES
VSizeFactor=95
WaitTime=0
MaxJobCount=50000
MaxArraySize=100000
#DefMemPerCPU=5333
SchedulerParameters=default_queue_depth=500
JobAcctGatherType=jobacct_gather/linux
# This section of this file was automatically generated by cmd. Do not edit manually!
# BEGIN AUTOGENERATED SECTION -- DO NOT REMOVE
# Scheduler
SchedulerType=sched/builtin
# Master nodes
ControlMachine=isglcdcpap001
ControlAddr=master
AccountingStorageHost=master
# Nodes
NodeName=isglcdcpap001  CoresPerSocket=10 Sockets=2
NodeName=isglcdctap001  Procs=12
NodeName=isglcdcstorage01  Procs=14
NodeName=isgnode[001-006]  Procs=48
# Partitions
PartitionName=defq Default=YES MinNodes=1 AllowGroups=ALL PriorityJobFactor=1 PriorityTier=1 DisableRootJobs=NO RootOnly=NO Hidden=NO OverSubscribe=YES:48 GraceTime=0 PreemptMode=OFF ReqResv=NO AllowAccounts=ALL AllowQos=ALL LLN=YES ExclusiveUser=NO OverTimeLimit=0 State=UP Nodes=isgnode[001-006]
PartitionName=testq Default=NO MinNodes=1 AllowGroups=ALL PriorityJobFactor=1 PriorityTier=1 DisableRootJobs=NO RootOnly=NO Hidden=NO OverSubscribe=YES:16 GraceTime=0 PreemptMode=OFF ReqResv=NO AllowAccounts=ALL AllowQos=ALL LLN=YES ExclusiveUser=NO OverTimeLimit=0 State=UP Nodes=isglcdctap001
PartitionName=bonusq Default=NO MinNodes=1 AllowGroups=ALL PriorityJobFactor=1 PriorityTier=1 DisableRootJobs=NO RootOnly=NO Hidden=NO OverSubscribe=YES:24 GraceTime=0 PreemptMode=OFF ReqResv=NO AllowAccounts=ALL AllowQos=ALL LLN=YES ExclusiveUser=NO OverTimeLimit=0 State=UP Nodes=isglcdcstorage01,isglcdcpap001
# Generic resources types
GresTypes=gpu
# Epilog/Prolog parameters
PrologSlurmctld=/cm/local/apps/cmd/scripts/prolog-prejob
Prolog=/cm/local/apps/cmd/scripts/prolog
Epilog=/cm/local/apps/cmd/scripts/epilog
# Fast Schedule option
FastSchedule=1
# Power Saving
SuspendTime=-1 # this disables power saving
SuspendTimeout=30
ResumeTimeout=60
SuspendProgram=/cm/local/apps/cluster-tools/wlm/scripts/slurmpoweroff
ResumeProgram=/cm/local/apps/cluster-tools/wlm/scripts/slurmpoweron
# END AUTOGENERATED SECTION   -- DO NOT REMOVE
#SelectType=select/cons_res
#SelectTypeParameters=CR_CPU
